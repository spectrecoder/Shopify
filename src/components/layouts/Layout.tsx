import Head from "next/head"
import React from "react"
import Details from "./Details"
import MyModal from "./MyModal"
import Sidebar from "./Sidebar"
import ActiveList from "./ActiveList"
import AddItem from "./AddItem"
import { useState } from "react"

interface Props {
  children: JSX.Element
}

export default function Layout({ children }: Props) {
  const [rightSidebar, setRightSidebar] = useState<
    "ActiveList" | "AddItem" | "Details"
  >("ActiveList")

  return (
    <main className="h-screen w-screen bg-[#FAFAFE] flex">
      <Head>
        <title>Shoppingify</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <MyModal />
      <Sidebar />

      <section className="flex-grow h-full py-14 px-32 overflow-scroll hideScrollbar">
        {children}
      </section>

      {rightSidebar === "ActiveList" && (
        <ActiveList setRightSidebar={setRightSidebar} />
      )}
      {rightSidebar === "AddItem" && (
        <AddItem setRightSidebar={setRightSidebar} />
      )}
      {rightSidebar === "Details" && (
        <Details setRightSidebar={setRightSidebar} />
      )}
    </main>
  )
}
